(this["webpackJsonppingpong-tournament"]=this["webpackJsonppingpong-tournament"]||[]).push([[0],{15:function(e,t,n){},17:function(e,t,n){e.exports=n(28)},28:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(10),u=n.n(l),o=(n(15),n(1)),s=function(){return r.a.createElement("header",null,r.a.createElement("h1",{className:"title"},"Tourn"))},c=n(4),i=n(5),m=n(2),d=n(7),p=n(6),b=function(e){var t=e.label,n=e.name,a=e.type,l=e.value,u=e.handleChange;e.className;return r.a.createElement("div",{className:"form-group container-form"},r.a.createElement("label",{htmlFor:n},t),r.a.createElement("input",{id:n,name:n,type:a,value:l,onChange:u}))},h=function(e){var t=e.label,n=e.buttonClass,a=e.type,l=e.handleClick,u=e.disable;return r.a.createElement("button",{className:n,onClick:l,type:a,disabled:u},t,r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null))};h.defaultProps={disable:!1};var y=h,f=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={player:""},a.handleChange=a.handleChange.bind(Object(m.a)(a)),a.handleSubmitPlayer=a.handleSubmitPlayer.bind(Object(m.a)(a)),a}return Object(i.a)(n,[{key:"handleChange",value:function(e){this.setState({player:e.currentTarget.value})}},{key:"handleSubmitPlayer",value:function(e){e.preventDefault();var t=this.state.player;if(""!==t){var n=new Audio;n.src="/assets/sounds/zapsplat_science_fiction_button_press_beep_44987.mp3",n.play(),this.props.handleAddPlayer(t)}this.setState({player:""})}},{key:"render",value:function(){var e=this.state.player,t=this.props,n=t.players,a=t.playerNumberError;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:this.handleSubmitPlayer,className:"form-group container-form"},r.a.createElement(b,{label:"Add a Player",name:"playerName",type:"text",value:e,handleChange:this.handleChange}),a?r.a.createElement("p",null,"Total number of players needs to be a power of 2 (i.e.2, 4, 8, 16, 32 ...) "):null,r.a.createElement(y,{label:"Add",buttonClass:"button-blue",type:"submit"})),r.a.createElement("article",null,r.a.createElement("h2",null,"Players"),0===n.length?null:r.a.createElement("ol",null,n.map((function(e,t){return r.a.createElement("li",{key:t},e.name)})))))}}]),n}(a.Component),E=Object(o.b)((function(e){return{players:e.players,playerNumberError:e.playerNumberError}}),(function(e){return{handleAddPlayer:function(t){return e(function(e){return{player:e,type:"ADD_PLAYER"}}(t))}}}))(f),v=function(e){var t=e.champion;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"champion"},"".concat(t," wins!")),r.a.createElement("div",{className:"laser-beam"}),r.a.createElement("div",{className:"laser-beam yellow"}),r.a.createElement("div",{className:"laser-beam blue-b"}),r.a.createElement("div",{className:"laser-beam yellow-b"}))},O=Object(o.b)((function(e){return{champion:e.champion}}))(v),g=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={winner:0},a.handleP1Win=a.handleP1Win.bind(Object(m.a)(a)),a.handleP2Win=a.handleP2Win.bind(Object(m.a)(a)),a}return Object(i.a)(n,[{key:"handleP1Win",value:function(e,t){var n=new Audio;n.src="/assets/sounds/laser.m4a",n.play(),this.props.handleWin(e,t),this.setState({winner:1})}},{key:"handleP2Win",value:function(e,t){var n=new Audio;n.src="/assets/sounds/laser.m4a",n.play(),this.props.handleWin(e,t),this.setState({winner:2})}},{key:"render",value:function(){var e=this,t=this.state.winner,n=this.props,a=n.game,l=n.totalRounds;return r.a.createElement("section",{className:"container-games"},r.a.createElement("h3",{className:"game-component"},a.roundID===l?"This is it...":"Game ".concat(a.id)),r.a.createElement("div",{className:"container-games"},r.a.createElement("div",{className:"container-player"},r.a.createElement(y,{buttonClass:(1===t?"animated-":2===t?" button-blue disabled-":"")+"button-blue game-component-blue",handleClick:function(){return e.handleP1Win(a.player1,a.roundID)},type:"button",label:"Won",disable:0!==t}),r.a.createElement("p",{className:(2===t?"disabled-game-component":"")+" game-component-blue"},a.player1)),r.a.createElement("div",{className:"container-player"},r.a.createElement(y,{buttonClass:(2===t?"animated-":1===t?"button-yellow disabled-":"")+"button-yellow game-component-yellow",handleClick:function(){return e.handleP2Win(a.player2,a.roundID)},type:"button",label:"Won",disable:0!==t}),r.a.createElement("p",{className:(1===t?"disabled-game-component":"")+" game-component-yellow"},a.player2))))}}]),n}(a.Component),_=Object(o.b)((function(e){return{roundsCompleted:e.roundsCompleted,totalRounds:e.totalRounds}}),(function(e){return{handleWin:function(t,n){return e(function(e,t){return{player:e,roundID:t,type:"PLAYER_WON"}}(t,n))}}}))(g),j=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleSubmitNextRound=a.handleSubmitNextRound.bind(Object(m.a)(a)),a}return Object(i.a)(n,[{key:"handleSubmitNextRound",value:function(e,t){if(e.preventDefault(),t+1===this.props.totalRounds){var n=new Audio;n.src="/assets/sounds/Ryan_VanEerde_Sci-Fi_Explosion_2_20.mp3",n.play()}else{var a=new Audio;a.src="/assets/sounds/zapsplat_science_fiction_vehicles_zoom_by_ultra_sonic_whoosh_002_55942.mp3",a.play()}this.props.handleNextRound()}},{key:"render",value:function(){var e=this,t=this.props,n=t.rounds,a=t.totalRounds,l=t.playerCounter;return r.a.createElement("div",{className:"container-rounds"},n.map((function(t,n){return r.a.createElement("article",{key:n},r.a.createElement("h2",null,n+1===a?"Final":n+1===a-1?"Semifinals":n+1===a-2?"1/4 Finals":"Round ".concat(n+1)),r.a.createElement("ul",null,function(e){var t=1,n={};return e.reduce((function(e,a){return a.gameID===n.gameID&&(e.push({id:t,player1:n.name,player2:a.name,roundID:a.roundID}),t+=1),n=a,e}),[])}(t).map((function(e,n){return r.a.createElement(_,{key:n,round:t,game:e})}))),r.a.createElement(y,{buttonClass:(l===t.length/2?"animated-":"button-blue disabled-")+"button-blue game-component-blue",handleClick:function(t){return e.handleSubmitNextRound(t,n)},type:"submit",label:n+1===a?"Tournament Master":"Next Round",disable:l!==t.length/2}))})))}}]),n}(a.Component),S=Object(o.b)((function(e){return{rounds:e.rounds,totalRounds:e.totalRounds,playerCounter:e.playerCounter}}),(function(e){return{handleNextRound:function(){return e({type:"NEXT_ROUND"})}}}))(j),C=function(e){var t=e.complete;return r.a.createElement(r.a.Fragment,null,t?r.a.createElement(O,null):r.a.createElement(S,null))},N=Object(o.b)((function(e){return{numberOfRounds:e.numberOfRounds,complete:e.complete}}))(C),R=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleResetSubmit=a.handleResetSubmit.bind(Object(m.a)(a)),a.handleStartTournamentSubmit=a.handleStartTournamentSubmit.bind(Object(m.a)(a)),a.handleErrorSubmit=a.handleErrorSubmit.bind(Object(m.a)(a)),a}return Object(i.a)(n,[{key:"handleResetSubmit",value:function(e){e.preventDefault();var t=new Audio;t.src="/assets/sounds/zapsplat_science_fiction_machine_power_down_55173.mp3",t.play(),this.props.handleReset()}},{key:"handleStartTournamentSubmit",value:function(e){e.preventDefault();var t=this.props.players,n=new Audio;n.src="/assets/sounds/zapsplat_science_fiction_robot_power_up_surge_003_45219.mp3",n.play(),this.props.handleStartTournament(t)}},{key:"handleErrorSubmit",value:function(e){e.preventDefault();var t=new Audio;t.src="/assets/sounds/zapsplat_science_fiction_console_error_tone_001_38432.mp3",t.play(),this.props.handleError()}},{key:"render",value:function(){var e,t=this.props,n=t.tournamentStarted,a=t.players,l=t.complete;return r.a.createElement("div",{className:"footer"},n?r.a.createElement(y,{buttonClass:l?"animated-button-blue":"button-blue",handleClick:this.handleResetSubmit,type:"submit",label:"New Tournament"}):r.a.createElement(y,{buttonClass:"animated-button-blue",handleClick:(e=a.length,Math.log2(e)%1===0&&1!==e?this.handleStartTournamentSubmit:this.handleErrorSubmit),type:"submit",label:"Start Tournament"}))}}]),n}(a.Component),w=Object(o.b)((function(e){return{tournamentStarted:e.tournamentStarted,players:e.players,complete:e.complete}}),(function(e){return{handleReset:function(){return e({type:"RESET"})},handleStartTournament:function(t){return e(function(e){return{players:e,type:"START_TOURNAMENT"}}(t))},handleError:function(){return e({type:"ERROR"})}}}))(R),T=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={musicPlaying:!0,music:new Audio("/assets/sounds/SearchingForYou-WhiteHex.mp3")},a.handleToggle=a.handleToggle.bind(Object(m.a)(a)),a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this.state.music;e.load(),e.autoplay=!0}},{key:"handleToggle",value:function(){var e=this.state,t=e.music;e.musicPlaying?(t.pause(),this.setState({musicPlaying:!1})):(t.play(),this.setState({musicPlaying:!0}))}},{key:"render",value:function(){var e=this.state.musicPlaying;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{buttonClass:"sound-button",handleClick:this.handleToggle,type:"button",label:e?"\ud83d\udd08":"\ud83d\udd0a"}))}}]),n}(a.Component),k=function(e){var t=e.tournamentStarted;return r.a.createElement(r.a.Fragment,null,r.a.createElement(s,null),t?r.a.createElement(N,null):r.a.createElement(E,null),r.a.createElement(w,null),r.a.createElement(T,null))},D=Object(o.b)((function(e){return{tournamentStarted:e.tournamentStarted}}))(k),P=n(8),A=n(9),I=n(3),W={tournamentStarted:!1,playerCounter:0,players:[],rounds:[],totalRounds:0,roundsCompleted:0,champion:"",complete:!1,playerNumberError:!1},x=function(e){var t=0;return e.map((function(e,n){return n%2===0&&(t+=1),Object(I.a)(Object(I.a)({},e),{},{gameID:t})}))},F=function(e,t){var n=t.players,a=x(function(e){for(var t=e.length-1;t>0;t-=1){var n=Math.floor(Math.random()*(t+1)),a=[e[n],e[t]];e[t]=a[0],e[n]=a[1]}return e}(n)),r=Math.log2(n.length);return Object(I.a)(Object(I.a)({},e),{},{players:W.players,rounds:[].concat(Object(A.a)(e.rounds),[a]),totalRounds:r,tournamentStarted:!0,playerCounter:W.playerCounter,playerNumberError:!1})},M=function(e,t){switch(t.type){case"ADD_PLAYER":return function(e,t){var n=t.player;return Object(I.a)(Object(I.a)({},e),{},{playerNumberError:!1,playerCounter:e.playerCounter+1,players:[].concat(Object(A.a)(e.players),[{playerID:e.playerCounter+1,name:n.trim(),roundID:1}])})}(e,t);case"START_TOURNAMENT":return F(e,t);case"ERROR":return function(e){return Object(I.a)(Object(I.a)({},e),{},{playerNumberError:!0})}(e);case"PLAYER_WON":return function(e,t){var n=t.player,a=t.roundID;return Object(I.a)(Object(I.a)({},e),{},{playerCounter:e.playerCounter+1,players:[].concat(Object(A.a)(e.players),[{playerID:e.playerCounter+1,name:n,roundID:a+1}]),champion:e.totalRounds===e.rounds.length?n:null})}(e,t);case"NEXT_ROUND":return function(e){var t=x(e.players),n=e.roundsCompleted+1===e.totalRounds;return Object(I.a)(Object(I.a)({},e),{},{players:W.players,rounds:[].concat(Object(A.a)(e.rounds),[t]),roundsCompleted:e.roundsCompleted+1,playerCounter:W.playerCounter,complete:n})}(e);case"RESET":return Object(I.a)({},W);default:return e}},z=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||P.b,L=Object(P.c)(M,W,z());u.a.render(r.a.createElement(o.a,{store:L},r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null))),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.016fc38e.chunk.js.map